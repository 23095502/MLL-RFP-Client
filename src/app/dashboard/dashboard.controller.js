export class DashboardController {
  constructor($http, $state, apiService, masterService) {
    'ngInject';
    this.$http = $http;
    this.$state = $state;
    this.rfps = [];
    this._api = apiService;
    this._master = masterService;

  }

  init() {

    //this._api.get('getrfplist/getall').then((res) => {
      var rfps = [{"ACTIVE":"Created","AGEOFTRUCK":4,"CARGOTYPE":"Dense","CASHOPPID":"OPT0001","CREATEDBY":1,"CREATEDON":"2016-03-21 20:17:18","CURRENTOWNERNAME":"ADMIN ADMIN","CURRENTSTAGINGOWNER":1,"CUSTOMERID":35,"CUSTOMERNAME":"Cummins","DETENTION":"","DIESELRATE":50.00,"DISTRIBUTIONTYPE":"Primary","DUEDATE":"2016-01-01 00:00:00","ESCCLAUSE":"6","INDUSTRYTYPEID":1,"INDUSTRYTYPENAME":"AGRICULTURE & AGRIBUSNESS","ISHUBORWHREQ":"N","ISMULTIDROP":"N","MODE":null,"OPPRDOMAIN":"Outbound","OWNERNAME":"ADMIN ADMIN","PAYMENTTERM":60,"PENALITIES":"","PRODUCTDESC":"","PROXIDISTANCE":0,"RATEUOM":"Per trip","RFPAMOUNT":50.00,"RFPCODE":"RX000000000","RFPDATE":"2016-01-01 00:00:00","RFPDESC":"outbound for cummins","RFPID":1,"RFPOWNER":1,"SEARCH1":null,"SEARCH2":null,"SEARCH3":null,"STARTDATE":"2016-01-01 00:00:00","UPDATEDBY":null},{"ACTIVE":"Created","AGEOFTRUCK":4,"CARGOTYPE":"Dense","CASHOPPID":"OPP0003210","CREATEDBY":1,"CREATEDON":"2016-03-21 20:51:41","CURRENTOWNERNAME":"ADMIN ADMIN","CURRENTSTAGINGOWNER":1,"CUSTOMERID":22,"CUSTOMERNAME":"C one","DETENTION":"","DIESELRATE":50.00,"DISTRIBUTIONTYPE":"","DUEDATE":"2016-01-01 00:00:00","ESCCLAUSE":"6","INDUSTRYTYPEID":1,"INDUSTRYTYPENAME":"AGRICULTURE & AGRIBUSNESS","ISHUBORWHREQ":"N","ISMULTIDROP":"N","MODE":null,"OPPRDOMAIN":"Inbound","OWNERNAME":"ADMIN ADMIN","PAYMENTTERM":60,"PENALITIES":"","PRODUCTDESC":"","PROXIDISTANCE":0,"RATEUOM":"Per trip","RFPAMOUNT":60.00,"RFPCODE":"RX000000001","RFPDATE":"2016-01-01 00:00:00","RFPDESC":"outbound couriers from mumbai","RFPID":2,"RFPOWNER":1,"SEARCH1":null,"SEARCH2":null,"SEARCH3":null,"STARTDATE":"2016-01-01 00:00:00","UPDATEDBY":null},{"ACTIVE":"Created","AGEOFTRUCK":4,"CARGOTYPE":"Dense","CASHOPPID":"OPPT0000034","CREATEDBY":1,"CREATEDON":"2016-03-21 21:36:39","CURRENTOWNERNAME":"ADMIN ADMIN","CURRENTSTAGINGOWNER":1,"CUSTOMERID":28,"CUSTOMERNAME":"ADS TEST","DETENTION":"","DIESELRATE":50.00,"DISTRIBUTIONTYPE":"Distribution","DUEDATE":"2016-01-01 00:00:00","ESCCLAUSE":"6","INDUSTRYTYPEID":1,"INDUSTRYTYPENAME":"AGRICULTURE & AGRIBUSNESS","ISHUBORWHREQ":"N","ISMULTIDROP":"N","MODE":null,"OPPRDOMAIN":"Outbound","OWNERNAME":"ADMIN ADMIN","PAYMENTTERM":60,"PENALITIES":"","PRODUCTDESC":"","PROXIDISTANCE":0,"RATEUOM":"Per trip","RFPAMOUNT":50.00,"RFPCODE":"RX000000002","RFPDATE":"2016-01-01 00:00:00","RFPDESC":"Test_PK","RFPID":3,"RFPOWNER":1,"SEARCH1":null,"SEARCH2":null,"SEARCH3":null,"STARTDATE":"2016-01-01 00:00:00","UPDATEDBY":null},{"ACTIVE":"Created","AGEOFTRUCK":4,"CARGOTYPE":"Volumetric","CASHOPPID":"Opp1","CREATEDBY":1,"CREATEDON":"2016-03-21 22:04:40","CURRENTOWNERNAME":"ADMIN ADMIN","CURRENTSTAGINGOWNER":1,"CUSTOMERID":1,"CUSTOMERNAME":"ACCENTURE","DETENTION":"","DIESELRATE":0.00,"DISTRIBUTIONTYPE":"","DUEDATE":"2016-03-28 00:00:00","ESCCLAUSE":"6","INDUSTRYTYPEID":1,"INDUSTRYTYPENAME":"AGRICULTURE & AGRIBUSNESS","ISHUBORWHREQ":"N","ISMULTIDROP":"N","MODE":null,"OPPRDOMAIN":"Inbound","OWNERNAME":"ADMIN ADMIN","PAYMENTTERM":60,"PENALITIES":"","PRODUCTDESC":"","PROXIDISTANCE":0,"RATEUOM":"Per trip","RFPAMOUNT":50.00,"RFPCODE":"RX000000003","RFPDATE":"2016-03-21 00:00:00","RFPDESC":"pop","RFPID":4,"RFPOWNER":1,"SEARCH1":null,"SEARCH2":null,"SEARCH3":null,"STARTDATE":"2016-01-01 00:00:00","UPDATEDBY":null},{"ACTIVE":"Created","AGEOFTRUCK":4,"CARGOTYPE":"Volumetric","CASHOPPID":"Opp1","CREATEDBY":1,"CREATEDON":"2016-03-21 22:06:04","CURRENTOWNERNAME":"ADMIN ADMIN","CURRENTSTAGINGOWNER":1,"CUSTOMERID":28,"CUSTOMERNAME":"ADS TEST","DETENTION":"","DIESELRATE":0.00,"DISTRIBUTIONTYPE":"","DUEDATE":"2016-03-28 00:00:00","ESCCLAUSE":"6","INDUSTRYTYPEID":1,"INDUSTRYTYPENAME":"AGRICULTURE & AGRIBUSNESS","ISHUBORWHREQ":"N","ISMULTIDROP":"N","MODE":null,"OPPRDOMAIN":"Inbound","OWNERNAME":"ADMIN ADMIN","PAYMENTTERM":60,"PENALITIES":"","PRODUCTDESC":"","PROXIDISTANCE":0,"RATEUOM":"Per trip","RFPAMOUNT":5.00,"RFPCODE":"RX000000004","RFPDATE":"2016-03-21 00:00:00","RFPDESC":"a","RFPID":5,"RFPOWNER":1,"SEARCH1":null,"SEARCH2":null,"SEARCH3":null,"STARTDATE":"2016-03-21 00:00:00","UPDATEDBY":null},{"ACTIVE":"Created","AGEOFTRUCK":4,"CARGOTYPE":"Dense","CASHOPPID":"OPP0003","CREATEDBY":1,"CREATEDON":"2016-03-21 22:11:55","CURRENTOWNERNAME":"ADMIN ADMIN","CURRENTSTAGINGOWNER":1,"CUSTOMERID":35,"CUSTOMERNAME":"Cummins","DETENTION":"","DIESELRATE":50.00,"DISTRIBUTIONTYPE":"Primary","DUEDATE":"2016-01-01 00:00:00","ESCCLAUSE":"6","INDUSTRYTYPEID":1,"INDUSTRYTYPENAME":"AGRICULTURE & AGRIBUSNESS","ISHUBORWHREQ":"N","ISMULTIDROP":"N","MODE":null,"OPPRDOMAIN":"Inbound","OWNERNAME":"ADMIN ADMIN","PAYMENTTERM":60,"PENALITIES":"","PRODUCTDESC":"","PROXIDISTANCE":0,"RATEUOM":"Per trip","RFPAMOUNT":10.00,"RFPCODE":"RX000000005","RFPDATE":"2016-01-01 00:00:00","RFPDESC":"DESC FOR RFP","RFPID":6,"RFPOWNER":1,"SEARCH1":null,"SEARCH2":null,"SEARCH3":null,"STARTDATE":"2016-01-01 00:00:00","UPDATEDBY":null}];
      rfps = _.map(rfps, (rfp) => {
        rfp.RFPDATE = new Date(rfp.RFPDATE);
        rfp.DUEDATE = new Date(rfp.DUEDATE);
        return rfp;

      });
      this.rfps = rfps;
    //}, (err) => {
    //  console.error(err);
    //});

  }

  click(id) {
    this.$state.go('output', {
      rfpId: id
    });
  }

  createRFP() {
    this.$state.go('overall');
  }

}
