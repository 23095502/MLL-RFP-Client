<div class="container-fluid">
  <div class="row">
    <div class="col-sm-4"><h1>Create new <abbr title="Request for praposal">RFP</abbr> </h1></div>
    <div class="col-sm-4 text-center">
      <div class="btn-group" data-toggle="buttons" >
        <label class="btn btn-default btn-rounded">
          <input name="togglebutton" type="checkbox" autocomplete="off">Overall Details
        </label>
        <label class="btn btn-default btn-rounded active">
          <input name="togglebutton" type="checkbox" autocomplete="off" checked> Lane Details
        </label>
      </div>
    </div>
    <div class="col-md-4 text-right">
      <button class="btn btn-default btn-xs" data-toggle="modal" data-target="#myModal">
      <i class="glyphicon glyphicon-plus"></i>  Add Route
      </button>
      <button class="btn btn-default btn-xs" data-toggle="modal" data-target="#myModalBrowse">
      <i class="glyphicon glyphicon-import"></i>  Import Routes
      </button>
    </div>
  </div>
  <div class="form-divider"></div>
</div>
<div class="output-table">
  <div class="thead-div1">
    <table class="table mll-table frozen">
      <thead>
        <tr>
          <th>
            <span>From City</span>
          </th>
          <th>
            <span>From State</span>
          </th>
          <th>
            <span>To City</span>
          </th>
          <th>
            <span>To State</span>
          </th>
        </tr>
      </thead>
    </table>
  </div>
  <div class="thead-div2">
    <table class="table mll-table">
      <thead>
        <tr>
          <th>
            <span>One way / Round trip</span>
          </th>
          <th>
            <span>Service Type</span>
          </th>
          <th>
            <span>Vehicle Type</span>
          </th>
          <th>
            <span>Distance oneway</span>
          </th>
          <th>
            <span>Loading unloading time</span>
          </th>
          <th>
            <span>No. of Trips</span>
          </th>
          <th>
            <span>Backhaul (%)</span>
          </th>
        </tr>
      </thead>
    </table>
  </div>
  <div class="tbody-div3">
    <table class="mll-table table frozen">
      <tbody>
        <!-- <tr ng-repeat="i in [1,11,12,13,14,15,16,17,18,19,10,0112,1213,135,16776,1678,671,12323,146,1889,198,189]">
          <td>
            {{$index}}
          </td>
        </tr> -->
        <tr ng-dblclick="rfplanes.edit(route, $index)" ng-repeat="route in rfplanes.routes">
          <td>
            <span>{{rfplanes.map(route.FROMLOCATION, rfplanes.locationname_option, 'LOCATIONID', 'LOCATIONNAME')}}</span>
          </td>
          <td>
            <span>{{rfplanes.map(route.FROMSTATEID, rfplanes.statename_option, 'STATEID', 'STATECODE')}}</span>
          </td>
          <td>
            <span>{{rfplanes.map(route.TOLOCATION, rfplanes.locationname_option, 'LOCATIONID','LOCATIONNAME')}}</span>
          </td>
          <td>
            <span>{{rfplanes.map(route.TOSTATEID, rfplanes.statename_option, 'STATEID', 'STATECODE')}}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="tbody-div4">
    <table class="mll-table table">
      <tbody>
        <!-- <tr ng-repeat="i in [1,11,12,13,14,15,16,17,18,19,10,0112,1213,135,16776,1678,671,12323,146,1889,198,189]">
          <td ng-repeat="j in [1,11,12,13,14,15,16,17,18,19,10,0112,1213,135,16776,1678,671,12323]">
            {{$index}} , {{j}} {{$index}} , {{j}} {{$index}} , {{j}} {{$index}} , {{j}} {{$index}} , {{j}} {{$index}} , {{j}}
          </td>
        </tr> -->
        <tr ng-dblclick="rfplanes.edit(route, $index)" ng-repeat="route in rfplanes.routes">
          <td>
            <span>{{route.ISROUNDTRIP}}</span>
          </td>
          <td>
            <span>{{route.SERVICETYPE}}</span>
          </td>
          <td>
            <span>{{rfplanes.map(route.VEHICLETYPEID, rfplanes.vehicletypename_option, 'VEHICLETYPEID', 'VEHICLETYPENAME')}}</span>
          </td>
          <td>
            <span>{{route.DISTANCE}}</span>
          </td>
          <td>
            <span>{{route.LOADINGUNLOADINGTIME}}</span>
          </td>
          <td>
            <span>{{route.NOOFTRIPS}}</span>
          </td>
          <td>
            <span>{{route.BACKHAUL}}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 text-right">
      <button class="btn btn-primary" ng-click="rfplanes.submitData()">
      Save
      </button>
    </div>
  </div>
</div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">
          &times;
        </span>
        </button>
        <h4 class="modal-title" id="myModalLabel">
        Add Route
        </h4>
      </div>
      <div class="modal-body">
        <div style="overflow: auto; height: 60vh">
          <form>
            <div class="fieldset" class="form-group">
              <div class="container-fluid">
                <fieldset class="fieldset">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-sm-12">
                        <legend class="legend top-legend">
                          Lane Details
                        </legend>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="fromCity">From city  <i class="glyphicon glyphicon-asterisk icon-required"></i></label>
                          <select class="form-control input-sm" id="fromCity" ng-model="rfplanes.route.FROMLOCATION" ng-options="location.LOCATIONID as location.LOCATIONNAME for location in rfplanes.locationname_option">
                          </select>
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="fromState">From state  <i class="glyphicon glyphicon-asterisk icon-required"></i></label>
                          <select class="form-control input-sm" id="fromState" ng-model="rfplanes.route.FROMSTATEID" ng-options="state.STATEID as state.STATENAME for state in rfplanes.statename_option">
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="toCity">To city <i class="glyphicon glyphicon-asterisk icon-required"></i></label>
                          <select class="form-control input-sm" id="toCity" ng-model="rfplanes.route.TOLOCATION" ng-options="location.LOCATIONID as location.LOCATIONNAME for location in rfplanes.locationname_option">
                          </select>
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="toState">To state <i class="glyphicon glyphicon-asterisk icon-required"></i></label>
                          <select class="form-control input-sm" id="toState" ng-model="rfplanes.route.TOSTATEID " ng-options="state.STATEID as state.STATENAME for state in rfplanes.statename_option">
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="servicetype">Service Type <i class="glyphicon glyphicon-asterisk icon-required"></i></label>
                          <select class="form-control input-sm" id="servicetype" ng-model="rfplanes.route.SERVICETYPE" ng-options="servicetype.name as servicetype.val for servicetype in rfplanes.isSERVICETYPE_option" ng-change="rfplanes.changePackageDimension()">
                          </select>
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="vehType">Vehicle Type <i class="glyphicon glyphicon-asterisk icon-required"></i></label>
                          <select class="form-control input-sm" id="vehType" ng-model="rfplanes.route.VEHICLETYPEID" ng-options="vehicletype.VEHICLETYPEID as vehicletype.VEHICLETYPENAME for vehicletype in rfplanes.vehicletypename_option">
                          </select>
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="name">One way/ Round Trip <i class="glyphicon glyphicon-asterisk icon-required"></i></label>
                          <br/>
                          <label class="radio-inline">
                            <input type="radio" ng-model="rfplanes.route.ISROUNDTRIP" name="optradio" value="one way" /> One way
                          </label>
                          <label class="radio-inline">
                            <input type="radio" ng-model="rfplanes.route.ISROUNDTRIP" name="optradio" value="round trip" /> Round
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </fieldset>
                <fieldset class="fieldset">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-sm-12">
                        <legend class="legend">Solution Design Details</legend>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="packageDimensions">Package Dimension<i ng-show="rfplanes.isServiceTypeODC" class="glyphicon glyphicon-asterisk icon-required"></i></label>
                          <input type="text" id="packageDimensions" class="form-control input-sm" ng-model="rfplanes.route.PACKDIMENSION" placeholder="Enter Package Dimensions" ng-required="rfplanes.isServiceTypeODC" />
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="name">Loading/Unloading Charges<i class="glyphicon glyphicon-asterisk icon-required" ng-show="rfplanes.iswarehousing"></i></label>
                          <br/>
                          <label class="radio-inline">
                            <input type="radio" ng-model="rfplanes.route.ISLOADUNLOADCHARG" name="optradio" value="Y" /> Yes
                          </label>
                          <label class="radio-inline">
                            <input type="radio" ng-model="rfplanes.route.ISLOADUNLOADCHARG" name="optradio" value="N" /> No
                          </label>
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="stackingNorms">Stacking Norms<i class="glyphicon glyphicon-asterisk icon-required" ng-show="rfplanes.iswarehousing"></i></label>
                          <input type="text" id="stackingNorms" class="form-control input-sm" ng-model="rfplanes.route.STACKINGNORMS" placeholder="Enter Stacking Norms"  ng-required="rfplanes.iswarehousing"/>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="desc">Description <i class="glyphicon glyphicon-asterisk icon-required" ng-show="rfplanes.iswarehousing"></i></label>
                          <input type="text" id="desc" class="form-control input-sm" placeholder="Enter Description" ng-required="rfplanes.iswarehousing" />
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="transitTime">Transit Time</label>
                          <input type="text" id="transitTime" class="form-control input-sm" ng-model="rfplanes.route.RFPDURATION" placeholder="Enter Transit Time" />
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="packType">Packaging Type <i class="glyphicon glyphicon-asterisk icon-required" ng-show="rfplanes.iswarehousing"></i></label>
                          <select class="form-control input-sm" id="packType" ng-model="rfplanes.route.PACKAGETYPEID" ng-options="packType.name as packType.val for packType in rfplanes.isPACKAGETYPEID_option" ng-required="rfplanes.iswarehousing">
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="mheReq">MHE requirement <i class="glyphicon glyphicon-asterisk icon-required" ng-show="rfplanes.iswarehousing"></i></label>
                          <input type="text" id="mheReq" class="form-control input-sm" ng-model="rfplanes.route.MHEREQUIREMENT" placeholder="Enter MHE requirement" ng-required="rfplanes.iswarehousing" />
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="freq">Frequency</label>
                          <input type="text" id="freq" class="form-control input-sm" ng-model="rfplanes.route.FREQUENCY" placeholder="Enter frequency" />
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="avgLoad">Average Load
                          </label>
                          <input type="text" id="avgLoad" class="form-control input-sm" ng-model="rfplanes.route.AVERAGELOAD" placeholder="Enter Average Load" />
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="current">Customer Target Rate </label>
                          <input type="text" id="current" class="form-control input-sm" ng-model="rfplanes.route.CUSTTARGETRATE" placeholder="Enter Current" />
                        </div>
                      </div>
                      <div class="col-sm-8">
                        <div class="form-group">
                          <label class="form-label" title="required" for="otherReq">Other requirement </label>
                          <input type="text" id="otherReq" class="form-control input-sm" ng-model="rfplanes.route.OTHERREQUIREMENT" placeholder="Enter description" />
                        </div>
                      </div>
                    </div>
                  </div>
                </fieldset>
                <fieldset class="fieldset">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-sm-12">
                        <legend class="legend">Cleansheet Details</legend>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="distOneway">Distance oneway</label>
                          <input type="text" id="distOneway" class="form-control input-sm" ng-model="rfplanes.route.DISTANCE" placeholder="Enter distance" />
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="loadUnloadTime">Loading unloading time </label>
                          <input type="text" id="loadUnloadTime" class="form-control input-sm" ng-model="rfplanes.route.LOADINGUNLOADINGTIME" placeholder="Enter Loading unloading time" />
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="noofTrips">No of trips
                          </label>
                          <input type="text" id="noofTrips" class="form-control input-sm" ng-model="rfplanes.route.NOOFTRIPS" placeholder="Enter no of trips" />
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="form-label" title="required" for="backhaul">Backhaul(%)
                          </label>
                          <input type="text" id="backhaul" class="form-control input-sm" ng-model="rfplanes.route.BACKHAUL" placeholder="Enter Backhaul %" />
                        </div>
                      </div>
                    </div>
                  </div>
                </fieldset>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" ng-if="rfplanes.editingIndex==null" class="btn btn-primary" data-dismiss="modal" ng-click="rfplanes.add()">
        Add
        </button>
        <button type="button" ng-if="rfplanes.editingIndex!=null" class="btn btn-danger" data-dismiss="modal" ng-click="rfplanes.delete()">
        Delete
        </button>
        <button type="button" ng-if="rfplanes.editingIndex!=null" class="btn btn-primary" data-dismiss="modal" ng-click="rfplanes.save()">
        Save
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">
        Close
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="myModalBrowse" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">
        Import Routes
        </h4>
      </div>
      <div class="modal-body">
        <!--<div>
          <input id="filePicker" type="file" name="Package" file-model="myFile" />
          <br />
          <button title="upload" ng-click="rfplanes.uploadFile()">
          <span>Upload</span>
          </button>
        </div>-->
        <fieldset>
          <legend>Upload on form submit</legend>
          <input type="file" ngf-select ng-model="rfplanes.file" name="file"
          accept="excel/*" ngf-max-size="2MB" required
          ngf-model-invalid="rfplanes.errorFile">
          <i ng-show="myForm.file.$error.required">*required</i><br>
          <i ng-show="myForm.file.$error.maxSize">File too large
          {{rfplanes.errorFile.size / 1000000|number:1}}MB: max 2M</i>
          <button
          ng-click="rfplanes.uploadFile(rfplanes.file)">Submit</button>
          <span class="progress" ng-show="rfplanes.file.progress >= 0">
            <div style="width:{{rfplanes.file.progress}}%"
            ng-bind="rfplanes.file.progress + '%'"></div>
          </span>
          <span ng-show="rfplanes.file.result">Upload Successful</span>
          <span class="err" ng-show="errorMsg">{{rfplaanes.errorMsg}}</span>
        </fieldset>
        <!--<input name="myFile" type="file" />-->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">
        Close
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="myModalBrowse" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">
        Import Routes
        </h4>
      </div>
      <div class="modal-body">
        <fieldset>
          <legend>Upload on form submit</legend>
          <input type="file" ngf-select ng-model="rfplanes.file" name="file"
          accept="excel/*" ngf-max-size="2MB" required
          ngf-model-invalid="rfplanes.errorFile">
          <i ng-show="myForm.file.$error.required">*required</i><br>
          <i ng-show="myForm.file.$error.maxSize">File too large
          {{rfplanes.errorFile.size / 1000000|number:1}}MB: max 2M</i>
          <button
          ng-click="rfplanes.uploadFile(rfplanes.file)">Submit</button>
          <span class="progress" ng-show="rfplanes.file.progress >= 0">
            <div style="width:{{rfplanes.file.progress}}%"
            ng-bind="rfplanes.file.progress + '%'"></div>
          </span>
          <span ng-show="rfplanes.file.result">Upload Successful</span>
          <span class="err" ng-show="errorMsg">{{rfplaanes.errorMsg}}</span>
        </fieldset>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">
        Close
        </button>
      </div>
    </div>
  </div>
</div>
